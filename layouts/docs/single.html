{{ define "main" }}
	<div class="row flex-xl-nowrap">
		<div class="col-lg-5 col-xl-4 docs-sidebar{{ if ne .Site.Params.options.navbarSticky true }} docs-sidebar-top{{ end }} d-none d-lg-block">
			<nav {{ if eq .Site.Params.menu.section.collapsibleSidebar false }}id="sidebar-default" {{ end }}class="docs-links" aria-label="Main navigation">
				{{ partial "sidebar/docs-menu.html" . }}
			</nav>
		</div>
		{{ if ne .Params.toc false -}}
		<nav class="docs-toc{{ if ne .Site.Params.options.navbarSticky true }} docs-toc-top{{ end }} d-none d-xl-block col-xl-3" aria-label="Secondary navigation">
			{{ partial "sidebar/docs-toc.html" . }}
		</nav>
		{{ end -}}
		{{ if .Params.toc -}}
		<main class="docs-content col-lg-11 col-xl{{ if eq .Site.Params.options.fullWidth false }}-9{{ end }}">
		{{ else -}}
		<main class="docs-content col-lg-11 col-xl-9 mx-xl-auto">
		{{ end -}}
			{{ if .Site.Params.options.breadCrumb -}}
				<!-- https://discourse.gohugo.io/t/breadcrumb-navigation-for-highly-nested-content/27359/6 -->
				<nav aria-label="breadcrumb">
					<ol class="breadcrumb">
						{{ partial "main/breadcrumb" . -}}
						<li class="breadcrumb-item active" aria-current="page">{{ .Title }}</li>
					</ol>
				</nav>
			{{ end }}
			<h1>{{ .Title }}</h1>
			<p class="lead">{{ .Params.lead | safeHTML }}</p>
			{{ if ne .Params.toc false -}}
			<nav class="d-xl-none" aria-label="Quaternary navigation">
				{{ partial "sidebar/docs-toc.html" . }}
			</nav>
			{{ end -}}
			{{ .Content }}
			<div class="page-footer-meta d-flex flex-column flex-md-row justify-content-between">
				{{ if .Site.Params.lastMod -}}
					{{ partial "main/last-modified.html" . }}
				{{ end -}}
				{{ if .Site.Params.editPage -}}
					{{ partial "main/edit-page.html" . }}
				{{ end -}}
			</div>
			{{ partial "main/docs-navigation.html" . }}
			<!--
			{{ if not .Site.Params.options.collapsibleSidebar -}}
				{{ partial "main/docs-navigation.html" . }}
			{{ else -}}
				<div class="my-n3"></div>
			{{ end -}}
			-->
		</main>
	</div>


	<style> .hide {
		display: none
	  }
	  
	  
	  /* The following css just makes sure the twitch video stays responsive */
	  #twitch,
	  #twitch2 {
		border-radius: 0.25rem !important;
		z-index: 1000;
		position: fixed;
		bottom: 5px;
		right: 5px;
		outline: 2px solid #121212;
		width: 432px;
		height: 241px;
		overflow: hidden;
	  }
	  
	  #twitch object,
	  #twitch iframe,
	  #twitch2 object,
	  #twitch2 iframe {
		z-index: 1000;
		border-radius: 0.25rem !important;
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
	  }
	  </style>
		<script src="https://player.twitch.tv/js/embed/v1.js"></script>
	  
		<div id="twitch" class="hide">
		</div>
		<div id="twitch2" class="hide">
		</div>
	  
		<script>
		  var options = {
			channel: "m11pve",
			width: 1280,
			height: 720,
			parent: ["pvebuilds.xyz"]
		  };
		  var options2 = {
			channel: "genedictb",
			width: 1280,
			height: 720,
			parent: ["pvebuilds.xyz"]
		  };
		  var player2 = new Twitch.Player("twitch2", options2);
		  var player = new Twitch.Player("twitch", options);
		  player.addEventListener(Twitch.Player.READY, initiate)
		  player.addEventListener(Twitch.Player.OFFLINE, initiate2);
	  
		  function initiate() {
			player.addEventListener(Twitch.Player.ONLINE, handleOnline);
			player.addEventListener(Twitch.Player.OFFLINE, handleOffline);
			player.removeEventListener(Twitch.Player.READY, initiate);
		  }
	  
		  function handleOnline() {
			document.getElementById("twitch").classList.remove('hide');
			player.removeEventListener(Twitch.Player.ONLINE, handleOnline);
			player.addEventListener(Twitch.Player.OFFLINE, handleOffline);
		  player2.pause();
		  player2.setMuted(true);
			player.setMuted(false);
			player.setVolume(0.1);
		  }
	  
		  function handleOffline() {
			player.setMuted(true);
			document.getElementById("twitch").classList.add('hide');
			player.removeEventListener(Twitch.Player.OFFLINE, handleOffline);
		  }
		  function initiate2() {
			player2.addEventListener(Twitch.Player.ONLINE, handleOnline2);
			player2.addEventListener(Twitch.Player.OFFLINE, handleOffline2);
			player2.removeEventListener(Twitch.Player.READY, initiate2);
		  }
	  
		  function handleOnline2() {
			document.getElementById("twitch2").classList.remove('hide');
			player2.removeEventListener(Twitch.Player.ONLINE, handleOnline2);
			player2.addEventListener(Twitch.Player.OFFLINE, handleOffline2);
			player2.setMuted(false);
			player2.setVolume(0.1);
		  }
	  
		  function handleOffline2() {
			document.getElementById("twitch2").classList.add('hide');
			player2.removeEventListener(Twitch.Player.OFFLINE, handleOffline2);
			player2.addEventListener(Twitch.Player.ONLINE, handleOnline2);
			player2.setMuted(true);
		  }
		</script>
	  


{{ end }}
