{{ define "main" }}
<style>
  .transparent-bg{
    background:rgba(0, 0, 0, 0.753);
    position:fixed;
    z-index:-1;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    height:100%;
    width:66vw;
    margin-top:-10%;
    overflow:hidden;
  }
  @media screen and (max-width:1800px) {
    .transparent-bg {
      width: 85vw;
    }
  }

  @media screen and (max-width:1300px) {
    .transparent-bg {
      width: 90vw;
      height:500%;
    }
  }
  .h5{ color:#fbbc69;
  }
</style>


<div class="transparent-bg"></div>
<section class="section container-fluid mt-n3 pb-3">
  <div class="row justify-content-center">
    <div class="col-lg-12 text-center">
      <h1 class="mt-0" style="color:#fbbc69;">{{ .Title }}</h1>
    </div>
    <div class="col-lg-9 col-xl-8 text-center">
      <p class="lead" style="color:white;">{{ .Params.lead | safeHTML }}</p>
      <a class="btn btn-primary btn-lg px-4 mb-2" style="color:black;background-color:#fbbc69;" href="/builds"
        role="button">{{ i18n "get-started" }}</a>
      <!--<p class="meta" style="color:rgb(189, 189, 189);">Open-source MIT Licensed. <a href="https://github.com/h-enk/doks">GitHub v{{ $data := getJSON "/package.json" }}{{ $data.version }}</a></p>-->
    </div>
  </div>
</section>


{{ end }}

{{ define "sidebar-prefooter" }}
{{ if eq $.Site.Language.LanguageName "English" }}

<section class="section section-sm">
  <div class="container"style="color:white;">
    <div class="row justify-content-center text-center">
      <div class="col-lg-5">
        <h2 class="h2"><a href="https://twitch.tv/M11PvE" style="color:#6441a5e1;">Twitch</a></h2>
        <p><a class ="h5" href="https://twitch.tv/M11PvE">→ Follow us on Twitch ←</a><br> We try to stream 25 Mutation 10's per
          week. If you don't follow, you'll regret it.</p>
      </div>
      <div class="col-lg-5">
        <h2 class="h2"><a href="https://discord.gg/VnMQ8ymWuD" style="color:#5865f2b2;">Discord</a></h2>
        <a  class ="h5" href="https://discord.gg/VnMQ8ymWuD">→ Join the pvebuilds.xyz community ← </a>
        <br> 
        Message <a href="https://discord.com/users/144300697230376960"><u>Roelof</u></a> with any comments, questions, or
        suggestions.</p>
      </div>
      <div class="col-lg-5">
        <h2 class="h2"><a href="https://youtube.com/M11PvE" style="color:rgba(255, 0, 0, 0.568);">YouTube</a></h2>
        <p><a  class ="h5" href="https://youtube.com/M11PvE">→ Watch us on Youtube ← </a><br>All of our world records and personal
          bests are uploaded here.</p>
      </div>
    </div>
    <div class="row justify-content-center text-center">
      <div class="col-lg-5">
        <h2 class="h4" style="color:#fbbc69;">Questions?</h2>
        <p>Can't find what you're looking for?<br>Need more information?<br> <a  class ="h5" 
            href="https://discord.com/channels/949706001941151839/1017199461249851433">→ Visit our help channel ← </a>
        </p>
      </div>
      <div class="col-lg-5">
        <h2 class="h4" style="color:#fbbc69;">Dark Mode</h2>
        <p>This website has a dark mode. <br>Enable it by clicking the icon at the top right.</p>
      </div>
    </div>
  </div>
</section>
{{ end }}

<!-- YT VIDEO BACKGROUND -->
<div style="position:fixed;top:0;left:0;height:100vh;width:100vw;z-index:-2;">
  <div id="player" class="bg" style="z-index:0;"></div>
</div>
<style>
  .bg {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 118%;
    height: 118%;
    pointer-events: none;
    overflow:hidden;
  }

  @media screen and (max-width:1000px) {
    .bg {
      width: 165%;
      height: 165%;
    }
  }

  @media screen and (max-width:500px) {
    .bg {
      width: 400%;
      height: 400%;
    }
  }
</style>
<script>
  // 2. This code loads the IFrame Player API code asynchronously.
  var tag = document.createElement('script');

  tag.src = "https://www.youtube.com/iframe_api";
  var firstScriptTag = document.getElementsByTagName('script')[0];
  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

  // 3. This function creates an <iframe> (and YouTube player)
  //    after the API code downloads.
  var player;
  function onYouTubeIframeAPIReady() {
    player = new YT.Player('player', {
      height: '100%',
      width: '100%',
      videoId: 'kTA1JrtRy1k',
      playerVars: { 'autoplay': 1, 'playsinline': 1, 'loop': 1, 'list': "PLn2kD3sUIiolab_ULFqrsGjAre82RUinM" },
      events: {
        'onReady': onPlayerReady
      }
    });
  }
  // 4. The API will call this function when the video player is ready.
  function onPlayerReady(event) {
    event.target.mute();
    event.target.playVideo();
  }
</script>

<!-- Twitch Video Embed -->
<script src="https://player.twitch.tv/js/embed/v1.js"></script>

<div id="twitch" class="hide">
</div>
<div id="twitch2" class="hide">
</div>

<script>
  var options = {
    channel: "m11pve",
    width: 1280,
    height: 720,
    parent: ["pvebuilds.xyz"]
  };
  var options2 = {
    channel: "genedictb",
    width: 1280,
    height: 720,
    parent: ["pvebuilds.xyz"]
  };
  var player2 = new Twitch.Player("twitch2", options2);
  var player = new Twitch.Player("twitch", options);
  player.addEventListener(Twitch.Player.READY, initiate)
  player.addEventListener(Twitch.Player.OFFLINE, initiate2);

  function initiate() {
    player.addEventListener(Twitch.Player.ONLINE, handleOnline);
    player.addEventListener(Twitch.Player.OFFLINE, handleOffline);
    player.removeEventListener(Twitch.Player.READY, initiate);
  }

  function handleOnline() {
    document.getElementById("twitch").classList.remove('hide');
    player.removeEventListener(Twitch.Player.ONLINE, handleOnline);
    player.addEventListener(Twitch.Player.OFFLINE, handleOffline);
    player2.pause();
    player2.setMuted(true);
    player.setMuted(false);
    player.setVolume(0.1);
  }

  function handleOffline() {
    player.setMuted(true);
    document.getElementById("twitch").classList.add('hide');
    player.removeEventListener(Twitch.Player.OFFLINE, handleOffline);
  }
  function initiate2() {
    player2.addEventListener(Twitch.Player.ONLINE, handleOnline2);
    player2.addEventListener(Twitch.Player.OFFLINE, handleOffline2);
    player2.removeEventListener(Twitch.Player.READY, initiate2);
  }

  function handleOnline2() {
    document.getElementById("twitch2").classList.remove('hide');
    player2.removeEventListener(Twitch.Player.ONLINE, handleOnline2);
    player2.addEventListener(Twitch.Player.OFFLINE, handleOffline2);
    player2.setMuted(false);
    player2.setVolume(0.1);
  }

  function handleOffline2() {
    document.getElementById("twitch2").classList.add('hide');
    player2.removeEventListener(Twitch.Player.OFFLINE, handleOffline2);
    player2.addEventListener(Twitch.Player.ONLINE, handleOnline2);
    player2.setMuted(true);
  }
</script>


{{ end }}

{{ define "sidebar-footer" }}
<section class="section section-sm container-fluid">
  <div class="row justify-content-center text-center">
    <div class="col-lg-9">
      {{- .Content -}}
    </div>
  </div>
</section>
{{ end }}